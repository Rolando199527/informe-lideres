<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link href="style.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>

<body class="layout layout--default bg-light py-4">
  <div class="layout__container container d-flex flex-column align-items-center gap-4 justify-content-center">

    <!-- Botones superiores -->
    <div class="actions d-flex justify-content-center gap-2 mb-4">
      <button class="actions__button btn btn-outline-primary" id="btn-fill-report">
        <i class="fas fa-edit actions__icon"></i> Llenar Informe
      </button>
      <button class="actions__button actions__button--primary btn btn-primary" id="btn-see-reports">
        <i class="fas fa-list actions__icon"></i> Ver Informes
      </button>
    </div>

    <!-- Mensaje de éxito -->
    <div class="alert alert--success alert-success" id="success-container" role="status">
      <span class="alert__message me-3" id="msg-success">
        Informe enviado. Gracias por su diligencia.
      </span>
      <i class="bi bi-send-check-fill"></i>
    </div>

    <h1 class="form-informe__title h3 mb-4 text-center">Informe Semanal de Líderes</h1>

    <!-- Formulario -->
    <form class="form-informe" id="form-report">
      <!-- Sección 1 -->
      <div class="container-sm d-flex flex-column g-3 mb-4">
        <div class="row w-100 g-3">
          <div class="form-informe__group col">
            <label class="form-informe__label form-label fw-bold" for="lider">Coordinador / Líder:</label>
            <p class="lider__loader text-muted small"></p>
            <!-- <select class="form-informe__select form-select p-3" id="lider" required>
              <option disabled selected>Seleccione un Líder</option>
            </select> -->
            <div class="form-floating">
              <select class="form-select" id="selector-leader" aria-label="Floating label select example">
                <option selected disabled>--Seleciona un lider--</option>
              </select>
              <label for="selector-leader"">seleciona el nombre del lider</label>
            </div>
          </div>

          <div class="form-informe__group col">
            <label class="form-informe__label form-label fw-bold" for="coordinating-deacon">Diácono /
              Coordinador:</label>
            <p class="diaconocordinador__loader text-muted small"></p>
            <p class="form-informe__text form-control-plaintext p-3" id="coordinating-deacon"></p>
          </div>

          <div class="form-informe__group col">
            <label class="form-informe__label form-label fw-bold" for="report-date">Fecha de Registro:</label>
            <input class="form-informe__input form-control p-3" id="report-date" required type="date" />
          </div>
        </div>

      </div>

      <!-- Tabla de asistencia -->
      <h5 class="form-informe__subtitle mb-3 text-secondary">Asistencia de Discípulos</h5>
      <div class="form-informe__table-container table-responsive mb-4">
        <table class="table table-striped table-bordered" id="disciples-table">
          <thead class="form-informe__table-head table-light">
            <tr>
              <th>Nombre</th>
              <th>Doulos</th>
              <th>Miércoles</th>
              <th>Viernes</th>
              <th>Sábado</th>
              <th>Domingo</th>
              <th>Santa Cena</th>
              <th>Contactado</th>
            </tr>
          </thead>
          <tbody class="form-informe__table-body"></tbody>
        </table>
        <p class="discipulos__loader text-muted"></p>
      </div>

      <!-- Asistencia a redes -->
      <div class="form-informe__section d-flex flex-column g-3 mb-4">
        <h5 class="form-informe__subtitle text-secondary">Asistencia a Redes</h5>

        <div class="d-flex flex-row gap-3 flex-wrap">
          <div class="form-floating mb-3">
            <input type="number" class="form-control" id="redDiscipulos" placeholder="#" required min="0" />
            <label for="redDiscipulos">Discípulos</label>
          </div>

          <div class="form-floating mb-3">
            <input type="number" class="form-control" id="redNuevos" placeholder="#" required min="0" />
            <label for="redNuevos">Invitados</label>
          </div>
          <div class="form-floating mb-3">
            <input type="number" class="form-control" id="redOfrenda" placeholder="#" required min="0" />
            <label for="redOfrenda">Ofrenda</label>
          </div>
        </div>

        <div class="d-flex flex-column gap-3 flex-wrap">
          <h5 class="form-informe__subtitle text-secondary">
            Asistencias Totales <span id="form-informe__subtitle--disabled" class="text-muted small">(invitados y
              Discípulos)</span>
          </h5>
          <div class="d-flex flex-row gap-3 flex-wrap">
            <div class="form-floating mb-3">
              <input type="number" class="form-informe__input form-control" id="asistenciaTotalMiercoles"
                placeholder="Miércoles" min="0" required />
              <label for="asistenciaTotalMiercoles">Miércoles</label>
            </div>

            <div class="form-floating mb-3">
              <input type="number" class="form-informe__input form-control" id="asistenciaTotalViernes"
                placeholder="Viernes" min="0" required />
              <label for="asistenciaTotalViernes">Viernes</label>
            </div>

            <div class="form-floating mb-3">
              <input type="number" class="form-informe__input form-control" id="asistenciaTotalSabado"
                placeholder="Sábado" min="0" required />
              <label for="asistenciaTotalSabado">Sábado</label>
            </div>

            <div class="form-floating mb-3">
              <input type="number" class="form-informe__input form-control" id="asistenciaTotalDomingo"
                placeholder="Domingo" min="0" required />
              <label for="asistenciaTotalDomingo">Domingo</label>
            </div>

          </div>


        </div>
      </div>

      <!-- Nuevos discípulos -->

      <div class="form-informe__group mb-4">
        <h5 class="form-informe__subtitle text-secondary">Nuevos Discípulos</h5>
        <div class="form-floating mb-3">
          <textarea class="form-control" placeholder="Ingrese nombres separados por coma" id="nuevosDiscipulos"
            style="resize: none; height: 80px;"></textarea>
          <label for="nuevosDiscipulos">Nuevos Discípulos</label>
        </div>

      </div>

      <button class="btn btn-outline-success form-informe__submit" id="guardarInforme" type="button">
        <i class="fas fa-save"></i> Guardar Informe
      </button>
    </form>

    <!-- Vista de informes -->
    <section class="container  is-hidden" id="seccionVer">
      <h2 class="reports-view__title h4">
        <i class="fas fa-list-alt reports-view__icon me-2" aria-hidden="true"></i> Ver Informes
      </h2>
      <div class="reports-view__filters mb-3">
        <label class="reports-view__label form-label" for="filtroCoordinacion">Filtrar por Coordinación:</label>
        <select class="reports-view__select form-select" id="filtroCoordinacion">
          <option value="0">Todas</option>
          <option value="sin_informe">Quién no llenó su informe</option>
        </select>
      </div>
      <div class="reports-view__totals my-3" id="contenedorTotales">
        <!-- <canvas class="w-100 h-auto" id="graficoAsistencias">Hola</canvas> -->
      </div>
      <div class="reports-view__list" id="contenedorInformes"></div>

      <div class="actions d-flex gap-2 mt-3">
        <button class="btn btn--success actions__button btn btn-outline-success" id="btnExportExcel">
          <i class="fas fa-file-excel actions__icon me-1" aria-hidden="true"></i> Exportar a Excel
        </button>
        <button class="btn btn--danger actions__button btn btn-outline-danger" id="btnBorrarInformes">
          <i class="fas fa-trash-alt actions__icon me-1" aria-hidden="true"></i> Borrar Todos
        </button>
      </div>
    </section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
  <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.6.2/dist/dotlottie-wc.js" type="module"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"></script>
</body>

</html>